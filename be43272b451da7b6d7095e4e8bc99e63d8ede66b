{
  "comments": [
    {
      "key": {
        "uuid": "87a8bbb6_9ab52505",
        "filename": "gr-image-diff-tool/gr-image-diff-tool.html",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-06-27T00:53:50Z",
      "side": 1,
      "message": "We need to add \u003cgr-resemble-diff-mode\u003e in here.",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ba5b4b4_5624f1f9",
        "filename": "gr-image-diff-tool/gr-image-diff-tool.html",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-27T01:42:37Z",
      "side": 1,
      "message": "I\u0027m thinking of doing that in a different commit. This commit is focused on implementing the gr-resemble-diff-mode files.",
      "parentUuid": "87a8bbb6_9ab52505",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95233167_81999b3c",
        "filename": "gr-image-diff-tool/gr-image-diff-tool.html",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-06-27T02:08:07Z",
      "side": 1,
      "message": "Sounds good -- but if that\u0027s the case, let\u0027s remove the unused import.",
      "parentUuid": "8ba5b4b4_5624f1f9",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e69ad53_55162e53",
        "filename": "gr-image-diff-tool/gr-image-diff-tool.html",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "95233167_81999b3c",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0802b4a_223a91f6",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.html",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2018-06-27T22:19:54Z",
      "side": 1,
      "message": "Consider this:\nmargin: 0 auto;",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 27,
        "endChar": 27
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff4f1ff3_98a128c5",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.html",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c0802b4a_223a91f6",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 27,
        "endChar": 27
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5dd29d48_41c11c76",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 26,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2018-06-27T22:19:54Z",
      "side": 1,
      "message": "Generally, observers in PolyGerrit are named like _handleFooChanged()\n\nLeading underscore means this is a private method.\n\n_handleImagesChanged() may be a good candidate.",
      "range": {
        "startLine": 26,
        "startChar": 7,
        "endLine": 26,
        "endChar": 24
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38f6934d_c4c73abf",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 26,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5dd29d48_41c11c76",
      "range": {
        "startLine": 26,
        "startChar": 7,
        "endLine": 26,
        "endChar": 24
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93d7a17b_86b3af4a",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2018-06-27T22:19:54Z",
      "side": 1,
      "message": "If you make an early exit condition instead, this will reduce number of nested levels in the function, and will make code more readable:\n\nif (!base || !revision) { return; }",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59f40493_b02d5464",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Won\u0027t this make it more complicated since we want to return a promise?",
      "parentUuid": "93d7a17b_86b3af4a",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d41639ea_3e4892d2",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 33,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2018-06-27T22:19:54Z",
      "side": 1,
      "message": "It\u0027s not clear why return is needed here. Can it be removed?",
      "range": {
        "startLine": 33,
        "startChar": 8,
        "endLine": 33,
        "endChar": 14
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79c7c3b0_d6fa2694",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 33,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "We want to return a Promise for testing purposes.",
      "parentUuid": "d41639ea_3e4892d2",
      "range": {
        "startLine": 33,
        "startChar": 8,
        "endLine": 33,
        "endChar": 14
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd270ae4_a1d34f3a",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 42,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-06-27T02:07:39Z",
      "side": 1,
      "message": "Replace this with\n\n        return this.compareImages(baseEncoded, revisionEncoded).then(src \u003d\u003e {\n          this.$.imageDiff.setAttribute(\u0027src\u0027, src);\n        });",
      "range": {
        "startLine": 33,
        "startChar": 8,
        "endLine": 42,
        "endChar": 11
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b49c1b8_a22a9798",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 42,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cd270ae4_a1d34f3a",
      "range": {
        "startLine": 33,
        "startChar": 8,
        "endLine": 42,
        "endChar": 11
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "971746de_5b29455e",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 45,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-06-27T02:07:39Z",
      "side": 1,
      "message": "Add a function here.\n\n  compareImages(baseEncoded, revisionEncoded) {\n    return new Promise((resolve, reject) \u003d\u003e\n        resemble(baseEncoded).compareTo(revisionEncoded).onComplete(data \u003d\u003e {\n          if (data.error) { reject(); }\n          resolve(data.getImageUrl());\n        }):\n    );\n  },",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb1bfab6_8ecb9e2d",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode.js",
        "patchSetId": 7
      },
      "lineNbr": 45,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "971746de_5b29455e",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adae278b_ab7fb34d",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode_test.html",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2018-06-27T22:19:54Z",
      "side": 1,
      "message": "Please update the name of the element you\u0027re testing.",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b24eaf4_5c27f279",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode_test.html",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "adae278b_ab7fb34d",
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97a7832c_0b6361fc",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode_test.html",
        "patchSetId": 7
      },
      "lineNbr": 78,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-06-27T00:53:50Z",
      "side": 1,
      "message": "What\u0027s going on here? You expect the test to fail?",
      "range": {
        "startLine": 76,
        "startChar": 12,
        "endLine": 78,
        "endChar": 13
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11a43b59_45a807c6",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode_test.html",
        "patchSetId": 7
      },
      "lineNbr": 78,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-27T01:42:37Z",
      "side": 1,
      "message": "In this test case yes because the test base64 bodies are not actually base64 images so resemblejs will return an error in the data.",
      "parentUuid": "97a7832c_0b6361fc",
      "range": {
        "startLine": 76,
        "startChar": 12,
        "endLine": 78,
        "endChar": 13
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe9b9025_ed787eb4",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode_test.html",
        "patchSetId": 7
      },
      "lineNbr": 78,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-06-27T02:07:39Z",
      "side": 1,
      "message": "Ah.\n\nWhen writing unit tests, we really only want to test our own functionality. We can trust that the resemble library will function as advertised. We use stubs for short-circuiting functionality. http://sinonjs.org/releases/v2.3.0/stubs/\n\nIn this case, because we chain several function calls together with the resemble library, it might be easier for testability to abstract them all away in another function, and to stub that. I\u0027ll leave a comment on the js file explaining.\n\nThen, all we have to do is this:\n  \n  sinon.stub(element,\u0027compareImages\u0027)\n      .returns(Promise.resolve(YOUR_TEST_DATA_HERE);",
      "parentUuid": "11a43b59_45a807c6",
      "range": {
        "startLine": 76,
        "startChar": 12,
        "endLine": 78,
        "endChar": 13
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6642091_42e00178",
        "filename": "gr-resemble-diff-mode/gr-resemble-diff-mode_test.html",
        "patchSetId": 7
      },
      "lineNbr": 78,
      "author": {
        "id": 1067379
      },
      "writtenOn": "2018-06-28T00:29:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fe9b9025_ed787eb4",
      "range": {
        "startLine": 76,
        "startChar": 12,
        "endLine": 78,
        "endChar": 13
      },
      "revId": "be43272b451da7b6d7095e4e8bc99e63d8ede66b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}