{
  "comments": [
    {
      "key": {
        "uuid": "fe17ae6a_567ca485",
        "filename": "BUILD",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T15:08:41Z",
      "side": 1,
      "message": "Unneded new line?",
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47ce5c79_3f7743f3",
        "filename": "BUILD",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T15:08:41Z",
      "side": 1,
      "message": "Is it really needed? We havn\u0027t added this line for other plugins, that were migrated to Polymer 3.",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 2,
        "endChar": 62
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c838157_79f0dc8e",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T15:08:41Z",
      "side": 1,
      "message": "Alternatively, mention that the existing directory can be linked to gerrit/plugins directory. So that we have in the end:\n\n  gerrit/plugins/image-diff",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 12,
        "endChar": 59
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "189d1529_b487557a",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T15:08:41Z",
      "side": 1,
      "message": "This shoudn\u0027t be strictly required?",
      "range": {
        "startLine": 13,
        "startChar": 134,
        "endLine": 13,
        "endChar": 210
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6f8dd3e_fb266e8a",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T15:08:41Z",
      "side": 1,
      "message": "Remove second not.",
      "range": {
        "startLine": 13,
        "startChar": 109,
        "endLine": 13,
        "endChar": 113
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f4d3a1a_4c2809bb",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-06-16T15:45:33Z",
      "side": 1,
      "message": "sadly it is, at least the `polymer-bridges` needs to be removed otherwise the yarn install may fail due to the relative path issue",
      "parentUuid": "189d1529_b487557a",
      "range": {
        "startLine": 13,
        "startChar": 134,
        "endLine": 13,
        "endChar": 210
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1b0dc3b_c29071a2",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T19:08:49Z",
      "side": 1,
      "message": "\u003e sadly it is, at least the `polymer-bridges` needs to be removed otherwise the yarn install may fail due to the relative path issue\n\nI cannot reproduce the problem. I don\u0027t remove polymer-bridges and it works as expected with this series: \n\n  $ cd ~/projects/gerrit\n  $ bazel build plugins/image-diff\n  INFO: Analyzed target //plugins/image-diff:image-diff (357 packages loaded, 17375 targets configured).\nINFO: Found 1 target...\nINFO: From Bundling JavaScript plugins/image-diff/plugin-bundle.js [rollup]:\nplugins/image-diff/plugin.js → bazel-out/k8-fastbuild/bin/plugins/image-diff/plugin-bundle.js...\ncreated bazel-out/k8-fastbuild/bin/plugins/image-diff/plugin-bundle.js in 174ms\nTarget //plugins/image-diff:image-diff up-to-date:\n  bazel-bin/plugins/image-diff/image-diff.js\n  bazel-bin/plugins/image-diff/image-diff.html\nINFO: Elapsed time: 30.563s, Critical Path: 4.43s\nINFO: 5 processes: 3 linux-sandbox, 2 worker.\nINFO: Build completed successfully, 9 total actions",
      "parentUuid": "1f4d3a1a_4c2809bb",
      "range": {
        "startLine": 13,
        "startChar": 134,
        "endLine": 13,
        "endChar": 210
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b1aba96_ff8996a3",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-06-17T07:10:22Z",
      "side": 1,
      "message": "that\u0027s strange, at my local, it will fail to build due to the invalid path: `file:../../polymer_bridges/`",
      "parentUuid": "c1b0dc3b_c29071a2",
      "range": {
        "startLine": 13,
        "startChar": 134,
        "endLine": 13,
        "endChar": 210
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e4c3a10_7cae7506",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-06-19T09:24:15Z",
      "side": 1,
      "message": "this should not be a problem after the `--prod` change. Actually it will ignore the devDependencies automatically if you have your NODE_ENV as production. \n\nJust for a safety check, can you check on your generated image-diff.js to see if you have the `resemble` part in it, it should in the beginning of the file (pretty easy to identify as it should be the biggest blob in the file) Thanks!",
      "parentUuid": "4b1aba96_ff8996a3",
      "range": {
        "startLine": 13,
        "startChar": 134,
        "endLine": 13,
        "endChar": 210
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da62bb26_4ff5a37c",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T15:08:41Z",
      "side": 1,
      "message": "Should this rather be:\n\n  bazel build plugins/image-diff\n\nI would expect that we could still build from gerrit directory, like before this change, right?",
      "range": {
        "startLine": 14,
        "startChar": 8,
        "endLine": 14,
        "endChar": 30
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a851ac5_70fcf7f7",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-19T09:36:39Z",
      "side": 1,
      "message": "Yes, I can check it later today. Still the instruction to mess around with gerrit submodules should be removed.",
      "parentUuid": "da62bb26_4ff5a37c",
      "range": {
        "startLine": 14,
        "startChar": 8,
        "endLine": 14,
        "endChar": 30
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87151d0e_4c72b4cf",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-22T07:28:51Z",
      "side": 1,
      "message": "Confirmed. I see `resemble` part in plugin artifact.",
      "parentUuid": "1a851ac5_70fcf7f7",
      "range": {
        "startLine": 14,
        "startChar": 8,
        "endLine": 14,
        "endChar": 30
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f48c82c_e91ce9b9",
        "filename": "README.md",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-06-22T08:01:18Z",
      "side": 1,
      "message": "Perfect. I will update the README and address the rest of your comments then :) thanks!",
      "parentUuid": "87151d0e_4c72b4cf",
      "range": {
        "startLine": 14,
        "startChar": 8,
        "endLine": 14,
        "endChar": 30
      },
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf582120_ac78a20c",
        "filename": "rollup.config.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-16T15:08:41Z",
      "side": 1,
      "message": "I added something similar in gerrit core: [1] to expose rollup-plugin-terser plugin from gerrit core for plugins. That was a prerequisite to remove dependency on rules_closure and use rollup-bundle with terser-plugin for minification. if the plugin will use its own rollupöconfig.js they would be also able to use terser plugin right?\n\n* [1] https://gerrit-review.googlesource.com/c/gerrit/+/270345",
      "revId": "e590e476e460784e5a8e81e21677b3f630a9e560",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}